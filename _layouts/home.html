<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>{{ site.title }}</title>
	<link rel="stylesheet" href="{{ "/assets/css/main.css" | relative_url }}">
</head>
<body>
	{% include header.html %}
	<main class="main-content">
		<!-- Top Section with Featured Story and Side Cards -->
		<div class="newspaper-layout">

			<!-- Left Side Cards -->
			<aside class="side-cards left-cards">
				{% assign left_posts = site.posts | offset: 1 | sample: 3 %}

				<div style="display:none; background-color: #ffcccb; border: 2px solid red; padding: 10px; margin: 10px; max-width: 10px;">
        <h3>Debugging 'left_posts'</h3>
        <p><strong>Number of posts found:</strong> {{ left_posts | size }}</p>
        <p><strong>Data inside variable:</strong></p>
        <pre><code>{{ left_posts | inspect }}</code></pre>
    </div>

	
				{% for post in left_posts %}
					<article class="side-card">
						{% if post.image %}
							<img src="{{ post.image }}" alt="{{ post.title }}" class="card-image">
						{% else %}
							<div class="card-image-placeholder"></div>
						{% endif %}
						<div class="card-content">
							<h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
							<p class="card-meta">{{ post.date | date: "%b %d" }}</p>
						</div>
					</article>
				{% endfor %}
			</aside>

			<!-- Main Featured Article -->
			<section class="featured-article">
				{% assign featured_post = site.posts.first %}
				<article class="main-story">
					<h1><a href="{{ featured_post.url }}">{{ featured_post.title }}</a></h1>
					<p class="story-meta">{{ featured_post.date | date: "%B %d, %Y" }}</p>
					{% if featured_post.image %}
						<img src="{{ featured_post.image }}" alt="{{ featured_post.title }}" class="story-image">
					{% endif %}
					<p class="story-excerpt">{{ featured_post.excerpt | strip_html | truncate: 200 }}</p>
				</article>
			</section>

			<!-- Right Side Cards -->
			<aside class="side-cards right-cards">
				{% assign right_posts = site.posts | offset: 4 | limit: 3 %}
				{% for post in right_posts %}
					<article class="side-card">
						{% if post.image %}
							<img src="{{ post.image }}" alt="{{ post.title }}" class="card-image">
						{% else %}
							<div class="card-image-placeholder"></div>
						{% endif %}
						<div class="card-content">
							<h3><a href="{{ post.url }}">{{ post.title }}</a></h3>
							<p class="card-meta">{{ post.date | date: "%b %d" }}</p>
						</div>
					</article>
				{% endfor %}
			</aside>
		</div>

		<!-- Newspaper Columns Section -->
		<section class="newspaper-columns">
			{% assign column_posts = site.posts | offset: 7 %}
			{% assign total_posts = column_posts | size %}
			{% if total_posts > 0 %}
				<div class="columns-grid">
					{% for post in column_posts %}
						<article class="column-story">
							<h2><a href="{{ post.url }}">{{ post.title }}</a></h2>
							<p class="column-meta">{{ post.date | date: "%b %d, %Y" }}</p>
							<p class="column-excerpt">{{ post.excerpt | strip_html | truncate: 120 }}</p>
						</article>
					{% endfor %}
				</div>
			{% endif %}
		</section>
	</main>
	{% include footer.html %}
</body>
</html>
